<template>
	<style>
		item-view{
			display: block;
		}

		span.enumeral::after{
			content: "."
		}

		#view-image {
			float: right;
			max-height: 20vh;
			max-width: 20vw;
		}

		#view-ingredients span.enumeral{
			vertical-align: top;
			margin-left: .5em;
			display: inline-block;
			min-width: 1.5em;
		}

		#view-ingredients{
			display: block;
		}
		#view-ingredients item-view {
			margin-bottom: 1ex;
		}
		#view-ingredients item-view > * {
			margin-right: .5em;
		}
		#view-ingredients .amount {
			display: inline-block;
			min-width: 4em;
		}
		#view-ingredients fraction-input{
			display: inline-block;
			width: 3em;
			margin-right: .75em;
		}

		#view-instructions span.enumeral {
			font-size: larger;
			font-weight: bold;
			margin-right: .5em;
		}

		@media print {
			html {
				background: white;
			}
			button {
				display: none;
			}

		}
	</style>

	<!--<raw-img id='view-image' base64="@recipe.image"></raw-img>-->
	<img id='view-image' base64="@recipe.imageUrl"></img>

	<h1>{recipe.name}</h1>

	<button onClick="onCloseClicked">Close</button>
	<button onClick="onPrintClicked">Print</button>
	<button onClick="onShareClicked">Share</button>

	<h2>Ingredients</h2>

	<items-view items="@recipe.ingredients" id="view-ingredients">
		<template>
			<span class="enumeral">{index}</span>
			<span class="amount"><span>{item.amount}</span> <span>{item.unit}</span></span>
			<span>{item.what}</span>
		</template>
	</items-view>

	<h2>Instructions</h2>

	<items-view items="@recipe.instructions" id="view-instructions">
		<template>
			<view-instruction recipe="@context.recipe" instruction="@item" index="@index"></view-instruction>
		</template>
	</items-view>

</template>

